<div class="gallery">
  <div class="galleryWrap">
    <div class="pure-g">

    <div class="pure-u-1 galleryFilters">
        <ul>
            <li class="filters active" data-id="all">ALL</li>
            <li class="filters" data-id="portfolio">PORTFOLIOS</li>
            <li class="filters" data-id="service">SERVICES</li>
            <li class="filters" data-id="job">JOBS</li>
            <li class="filters" data-id="course">COURSES</li>
            <li class="filters" data-id="article">ARTICLES</li>
            <li class="filters" data-id="tutorial">TUTORIALS</li>
        </ul>
    </div>

    <div class="pure-u-1 galleryItems">
        <div class="pure-g" id="galleryItems">

        </div>
    </div>

    


    </div>
  </div>
</div>

<script>
//GALLERY
var offerings = {{ offeringsjson|safe }};
var typefilter = "all";
//BUILD GALLERY
console.log(offerings);
var rendergallery = function () {
    $("#galleryItems").html('');
    for (var x in offerings) {
        if ((typefilter == "all") || (offerings[x].typeoption == typefilter)) {
            var entryhtml = "";
            //$("#galleryItems").append('<div class="pure-u-1 pure-u-md-1-3 pure-u-lg-1-3">'
            //$("#galleryItems").append(offerings[x].title);

            entryhtml += '<div class="pure-u-1 pure-u-md-1-2 pure-u-lg-1-4">';
            entryhtml += '<div class="market-container-wrap" style="position: relative;">';
            entryhtml += '<div class="market-container portrait">';
            entryhtml += '<a href="/offerings/view/'+offerings[x]._id+'" class="market-link">';
            entryhtml += '<div class="market-container-imagewrap" style=\'background-image: url("/offerings/'+offerings[x].samplefiles[0]+'");\'>';
            entryhtml += '</div>';
            entryhtml += '</a>';
            entryhtml += '<div style="padding: 0.5em;">';
            entryhtml += '<span class="market-title" >';
            entryhtml += '<a href="/offerings/view/'+offerings[x]._id+'" class="market-link productgallery" >';
            entryhtml += offerings[x].title;
            entryhtml += '</a>';
            entryhtml += '</span><br>';
            entryhtml += '</div>';

            if (offerings[x].saleoption == "price") {
                entryhtml += '<div style="position: absolute; top : 16em; left: 0.5em; font-size: 1em;font-weight: 700;">';
                entryhtml += 'R '+offerings[x].price.toFixed(2);
                entryhtml += '</div>';
            }

           

            entryhtml += '<div class="galleryBy" style="text-transform: uppercase;">';
            entryhtml += '<span class="market-creator" >by <a href="/'+offerings[x].creator+'">'+offerings[x].creator+'</a></span>';
            entryhtml += '</div></div></div></div>';

            $("#galleryItems").append(entryhtml);
            $("#galleryItems").fadeIn(100);
        }
        
    }
}

$(".filters").click( function () {
    console.log($(this).data("id"));
    typefilter = $(this).data("id");
    $("#galleryItems").fadeOut(100, function() {
        rendergallery();
    });

    $(".filters").removeClass("active")
    $(this).addClass("active")
})

rendergallery();

</script>

<style>

.filters:hover {
    color: rgb(225, 76, 7); 
}

.galleryFilters {
    background: rgb(39,37,38);
    padding: 1em;
    margin-top: 1em;
    margin-bottom: 1em;

}
.galleryFilters ul {
    margin: 0;
    padding: 0;
}

.galleryFilters li {
    float: left;
    list-style-type: none;
    margin-right: 1.5em;
    font-size: 1.12em;
    color: rgb(125,125,125);
}

.galleryFilters li:hover {
    cursor: pointer;
}

.galleryFilters li.active {
    color: rgb(255,255,255);
}

  .gallery {
    width: 100%;
  }

@media (max-width: 1200px) {
  .galleryWrap { 
    margin-left: 20px;
    margin-right: 20px;
  }
}

@media (min-width: 1200px) {
  .galleryWrap { 
    margin-left: 152px;
    margin-right: 152px;
  }
}


.galleryBy {
    padding: 0.5em;
    text-align: right;
    position: absolute;
    top: 285px;
}

.market-link:hover .market-container {
    
    background: rgba(235,235,235,1);

}

.market-link:hover .market-title {
    color: rgb(80,80,80); 
}

.market-link:hover .market-creator {
    
    color: rgba(80,80,80,0.5); 
}

.market-title {
    text-transform: uppercase;
    color: #fff;
    font-weight: 700; 
    font-size: 1em;
}

.market-title a{   
    font-weight: 700; 
    font-size: 1em;
}

.market-title a:hover {   
    color: rgb(255, 255, 255); 
    
    font-size: 1em;
}

a.productgallery {
    color: #e14c07;
}

a.productgallery:hover {
    color: #fff;
}

.market-creator {
    font-size: 0.7em;
    color: rgba(255,255,255,0.4); 
}

.market-creator a{
    font-size: 1em;
    color: rgba(255,255,255,0.5); 
}

.market-creator a:hover{
    font-size: 1em;
    color: rgb(225, 76, 7); 
}

.market-container-wrap {
    margin: 0.1em;
    position: relative;
}

.market-container {
 
    width: 100%;
    height: 325px;
    float: left;
    overflow: hidden;
    margin: 0px;

    background: rgba(25,25,25,1);
}

.market-link:hover .market-container-imagewrap {
    border-bottom: 5px solid rgb(225, 76, 7); 
}

.market-container-imagewrap {
    height:225px;
    overflow: hidden;
    border-bottom: 5px solid rgba(255,255,255,0.1);
    background-size: cover;
    background-repeat: no-repeat;
    background-position: 50% 50%;
}

.market-container-imagewrap img {
    height:100%;
}

.market-container img {
    display: block;
}

.portrait img {
    width: 100%;
}

.landscape img {
    height: 100%;
}

/*
FRONT SIGNUP SPLASH
*/

</style>